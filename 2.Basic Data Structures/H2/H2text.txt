Задача H. Хорошие дни
Имя входного файла: стандартный ввод
Имя выходного файла: стандартный вывод
Ограничение по времени: 0.25 секунд
Ограничение по памяти: 256 мегабайт

Вам дан массив целых неотрицательных чисел. Вы хотите найти в нем такой подотрезок (последовательность подряд идущих элементов), что в нем максимально возможная сумма, помноженная на минимум.

Поиск такого подотрезка является достаточно сложной задачей, поэтому мы приведем разбивку алгоритма по шагам. Не волнуйтесь, вам найдется, над чем подумать.

Итак, для начала требуется решить вспомогательную задачу — для каждого элемента массива найти ближайший слева элемент, меньший данного. То есть, посчитать previ = j, такой что j < i, aj < ai, aj+1 > ai, aj+2 > ai, . . . ai > ai.

Дальше, воспользовавшись таким алгоритмом, можно для каждого элемента i найти такой отрезок самой большой длины, что i является минимумом на всем этом отрезке. Ответом на задачу будет один из этих отрезков.

Для поиска суммы на отрезке можно воспользоваться, например, префиксными суммами. Сделать поиск ближайшего элемента слева, меньше данного, можно сделать за один линейный проход со стеком — нужно только догадаться, что хранить в стеке, когда делать добавления, а когда удаления.

Формат входных данных
Первая строка входного файла содержит число n — количество элементов массива (1 ≤ n ≤ 100 000). Оставшаяся часть файла содержит n целых чисел a1, a2, . . . , an, все в пределах от 0 до 10^6. Числа во входном файле разделяются пробелами и переводами строки.

Формат выходных данных
В первой строке выходного файла выведите максимальную величину «сумма подотрезка, помноженная на минимум в этом подотрезке»

Примеры
стандартный ввод:
6
3 1 6 4 5 2
стандартный вывод:
60
стандартный ввод:
4
1 2 1 2
стандартный вывод:
6
